"use strict";(self.webpackChunkgrants=self.webpackChunkgrants||[]).push([[87043],{28453:(e,t,i)=>{i.d(t,{R:()=>l,x:()=>o});var n=i(96540);const r={},s=n.createContext(r);function l(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),n.createElement(s.Provider,{value:t},e.children)}},66835:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"applications/polkadot-runtime-releaser","title":"Polkadot Runtime Releaser","description":"- Team Name: hack-ink","source":"@site/applications/polkadot-runtime-releaser.md","sourceDirName":"applications","slug":"/applications/polkadot-runtime-releaser","permalink":"/applications/polkadot-runtime-releaser","draft":false,"unlisted":false,"editUrl":"https://github.com/w3f/Grants-Program/edit/master/applications/polkadot-runtime-releaser.md","tags":[],"version":"current","frontMatter":{}}');var r=i(74848),s=i(28453);const l={},o="Polkadot Runtime Releaser",a={},d=[{value:"Project Overview \ud83d\udcc4",id:"project-overview-page_facing_up",level:2},{value:"Overview",id:"overview",level:3},{value:"Ecosystem Fit",id:"ecosystem-fit",level:3},{value:"Details(spec)",id:"detailsspec",level:3},{value:"Team \ud83d\udc65",id:"team-busts_in_silhouette",level:2},{value:"Team members",id:"team-members",level:3},{value:"Contact",id:"contact",level:3},{value:"Legal Structure",id:"legal-structure",level:3},{value:"Team&#39;s experience",id:"teams-experience",level:3},{value:"Team Code Repos",id:"team-code-repos",level:3},{value:"Team LinkedIn Profiles (if available)",id:"team-linkedin-profiles-if-available",level:3},{value:"Overview",id:"overview-1",level:3},{value:"Milestone 1 Polkadot Runtime Releaser Tool Set",id:"milestone-1-polkadot-runtime-releaser-tool-set",level:3},{value:"Future Plans",id:"future-plans",level:2},{value:"Additional Information \u2795",id:"additional-information-heavy_plus_sign",level:2}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"polkadot-runtime-releaser",children:"Polkadot Runtime Releaser"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Team Name:"})," hack-ink"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Payment Address:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"156HGo9setPcU2qhFMVWLkcmtCEGySLwNqa3DaEiYSWtte4Y (AssetHub) USDC 50%"}),"\n",(0,r.jsx)(t.li,{children:"156HGo9setPcU2qhFMVWLkcmtCEGySLwNqa3DaEiYSWtte4Y (Polkadot) DOT  50%"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsxs)(t.strong,{children:[(0,r.jsx)(t.a,{href:"https://github.com/w3f/Grants-Program/tree/master#level_slider-levels",children:"Level"}),":"]})," 2"]}),"\n"]}),"\n",(0,r.jsxs)(t.h2,{id:"project-overview-page_facing_up",children:["Project Overview ","\ud83d\udcc4"]}),"\n",(0,r.jsx)(t.h3,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(t.p,{children:"Polkadot Runtime Releaser aka PRR."}),"\n",(0,r.jsx)(t.p,{children:"Since last year, my work is mainly focused on the chain/node maintenance.\nRuntime upgrade is a great feature for the Polkadot-SDK.\nBut there are lots of potential issues that could happen during the runtime upgrade.\nEspecially to the new teams, they might not have enough experience to handle it."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"How to setup a try-runtime CI?"}),"\n",(0,r.jsxs)(t.li,{children:["How to setup the release CI?","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"The log affects the runtime file size."}),"\n",(0,r.jsx)(t.li,{children:"The rustc/OS version affects the compiled artifacts."}),"\n",(0,r.jsxs)(t.li,{children:["There are also some unclear things of the srtool.","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["E.G. ",(0,r.jsx)(t.a,{href:"https://substrate.stackexchange.com/questions/11686/getting-error-rust-nightly-not-installed-when-starting-an-srtool-container-to-bu%E2%80%8Ba",children:"https://substrate.stackexchange.com/questions/11686/getting-error-rust-nightly-not-installed-when-starting-an-srtool-container-to-bu\u200ba"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["How to host a wasm-override repository for the community?","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Debug log WASM.","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["We always use ",(0,r.jsx)(t.code,{children:"sp-api/disable-logging"})," in the release build, so no more detail logs in the general runtime."]}),"\n",(0,r.jsxs)(t.li,{children:["We can enable the ",(0,r.jsx)(t.code,{children:"sp-debug-derive/force-debug"})," in the debug build, so we can get more logs instead of ",(0,r.jsx)(t.code,{children:"WASM stripped"})," (I think people often see this a lot while they are trying to get some debug log)."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["EVM tracing WASM.","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"For some EVM chains, they need to trace the EVM execution."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"PRR's goal is to streamline the process of releasing a new runtime for the Polkadot-SDK-based chain. It provides a standard way to release a new runtime, including the CI setup, runtime upgrade notification, and wasm-override repository hosting."}),"\n",(0,r.jsx)(t.h3,{id:"ecosystem-fit",children:"Ecosystem Fit"}),"\n",(0,r.jsx)(t.p,{children:"For any Polkadot-SDK-based chain, they could use PRR to release their runtime. It's a tool that could help them to release the runtime in a more standard way."}),"\n",(0,r.jsx)(t.h3,{id:"detailsspec",children:"Details(spec)"}),"\n",(0,r.jsx)(t.p,{children:"For PRR's utilization, the chain team requires two repositories: one for their code and another for the release."}),"\n",(0,r.jsxs)(t.p,{children:["Take ",(0,r.jsx)(t.code,{children:"foo-network"})," as an example.\nThey should have two repositories, ",(0,r.jsx)(t.code,{children:"foo-network/foo"})," and ",(0,r.jsx)(t.code,{children:"foo-network/foo-runtime-overrides"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"foo-network/foo"})," is the base Polkadot-SDK-based chain repository that everyone should have."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"foo-network/foo-runtime-overrides"})," is a new repository that PRR requires.\nIt will have 2 branches, ",(0,r.jsx)(t.code,{children:"foo"})," and ",(0,r.jsx)(t.code,{children:"bar"})," if they have 2 networks, ",(0,r.jsx)(t.code,{children:"foo"}),"(mainnet) and ",(0,r.jsx)(t.code,{children:"bar"}),"(canary network).\nIt will host the override WASMs and the release under the corresponding network branch."]}),"\n",(0,r.jsx)(t.p,{children:"PRR will supply these components, which will all be hosted in one repository."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"A specialized custom Docker image maintained by Hack-Ink for building Polkadot-SDK-based runtimes."}),"\n",(0,r.jsxs)(t.li,{children:["A GitHub Action to response the try-runtime. (Users can comment something like ",(0,r.jsx)(t.code,{children:"/bot try-runtime <network>"})," under a release PR to trigger this action.)"]}),"\n",(0,r.jsx)(t.li,{children:"A GitHub Action to build the release runtime."}),"\n",(0,r.jsx)(t.li,{children:"A GitHub Action to notify release repository there is a new release that release repository can start preparing the override WASMs."}),"\n",(0,r.jsx)(t.li,{children:"A tool to build and manage the override WASMs."}),"\n",(0,r.jsx)(t.li,{children:"A tool to inspect the basic information from the WASM file."}),"\n"]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"right"},children:"GitHub Action"}),(0,r.jsx)(t.th,{children:"Trigger"}),(0,r.jsx)(t.th,{children:"Output"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"try-runtime"}),(0,r.jsxs)(t.td,{children:["Comment ",(0,r.jsx)(t.code,{children:"/bot try-runtime <network>"})," under the PR."]}),(0,r.jsx)(t.td,{children:"Bot will comment the try-runtime result under the PR."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"Runtime release"}),(0,r.jsx)(t.td,{children:"Usually by tag, this can be configured by users."}),(0,r.jsx)(t.td,{children:"Build and release the runtime files."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"WASM override"}),(0,r.jsx)(t.td,{children:"Runtime release action will notify this action."}),(0,r.jsx)(t.td,{children:"Build and push the runtime files to the repository."})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"Each component will have a very detailed guide to help the chain team to set up."}),"\n",(0,r.jsxs)(t.h2,{id:"team-busts_in_silhouette",children:["Team ","\ud83d\udc65"]}),"\n",(0,r.jsx)(t.h3,{id:"team-members",children:"Team members"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Xavier Lau"}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"contact",children:"Contact"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Contact Name:"})," Xavier Lau"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Contact Email:"})," ",(0,r.jsx)(t.a,{href:"mailto:x@acg.box",children:"x@acg.box"})]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Website:"})," ",(0,r.jsx)(t.a,{href:"https://linktr.ee/aurevoirxavier",children:"https://linktr.ee/aurevoirxavier"})]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"legal-structure",children:"Legal Structure"}),"\n",(0,r.jsx)(t.p,{children:"Personal. (no legal structure entry)"}),"\n",(0,r.jsx)(t.h3,{id:"teams-experience",children:"Team's experience"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.a,{href:"https://github.com/AurevoirXavier",children:"Xavier Lau"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Seven years of experience in Rust."}),"\n",(0,r.jsx)(t.li,{children:"Four years of experience in Substrate."}),"\n",(0,r.jsx)(t.li,{children:"Darwinia Network core developer, since 2019."}),"\n",(0,r.jsxs)(t.li,{children:["Actively at ",(0,r.jsx)(t.a,{href:"https://substrate.stackexchange.com/users/251/aurevoirxavier",children:"Substrate StackExchange"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["Grants contributor, ",(0,r.jsx)(t.a,{href:"https://github.com/hack-ink/subalfred",children:"Subalfred"}),", ",(0,r.jsx)(t.a,{href:"https://github.com/hack-ink/slothunter",children:"Slothunter"}),"."]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"team-code-repos",children:"Team Code Repos"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/hack-ink",children:"https://github.com/hack-ink"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/hack-ink/AiR",children:"https://github.com/hack-ink/AiR"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/hack-ink/array-bytes",children:"https://github.com/hack-ink/array-bytes"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/hack-ink/atomicalsir",children:"https://github.com/hack-ink/atomicalsir"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/hack-ink/subalfred",children:"https://github.com/hack-ink/subalfred"})}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Please also provide the GitHub accounts of all team members.\nIf they contain no activity, references to projects hosted elsewhere or live are also fine."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://github.com/AurevoirXavier",children:"https://github.com/AurevoirXavier"})}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"team-linkedin-profiles-if-available",children:"Team LinkedIn Profiles (if available)"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://www.linkedin.com/in/xavier-lau-b0655310a",children:"https://www.linkedin.com/in/xavier-lau-b0655310a"})}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"overview-1",children:"Overview"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Total Estimated Duration:"})," 8 weeks"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Full-Time Equivalent (FTE):"}),"  1 FTE"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Total Costs:"})," 22,500 USD"]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"milestone-1-polkadot-runtime-releaser-tool-set",children:"Milestone 1 Polkadot Runtime Releaser Tool Set"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Estimated duration:"})," 8 weeks"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"FTE:"}),"  1"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Costs:"})," 22,500 USD"]}),"\n"]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"right"},children:"Number"}),(0,r.jsx)(t.th,{children:"Deliverable"}),(0,r.jsx)(t.th,{children:"Specification"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"0a."}),(0,r.jsx)(t.td,{children:"License"}),(0,r.jsx)(t.td,{children:"GPLv3"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"0b."}),(0,r.jsx)(t.td,{children:"Documentation"}),(0,r.jsx)(t.td,{children:"There will be a guide to tell people how to use this and inline docs will cover core functionalities."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"0c."}),(0,r.jsx)(t.td,{children:"Testing guide"}),(0,r.jsx)(t.td,{children:"There will be a guide and a demo repository to tell the auditor how to run the tests. All components will be covered."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"1."}),(0,r.jsx)(t.td,{children:"Docker image"}),(0,r.jsx)(t.td,{children:"A well-maintained, long-term version Docker image for Polkadot-SDK-based runtime managed by Hack-Ink."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"2."}),(0,r.jsx)(t.td,{children:"Try-Runtime CI"}),(0,r.jsx)(t.td,{children:"Comment on a release PR and see the try-runtime result."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"3."}),(0,r.jsx)(t.td,{children:"Release CI"}),(0,r.jsx)(t.td,{children:"Build and release the deterministic runtime."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"4."}),(0,r.jsx)(t.td,{children:"WASM override tool"}),(0,r.jsx)(t.td,{children:"It can build the specify feature WASM in one step and manage them well in the corresponding folder."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"5."}),(0,r.jsx)(t.td,{children:"WASM override CI"}),(0,r.jsx)(t.td,{children:"Listen for build requests from the release CI."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"6."}),(0,r.jsx)(t.td,{children:"WASM info inspect tool"}),(0,r.jsx)(t.td,{children:"Use it to inspect the WASM basic information and integrate the result into the release note."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"7."}),(0,r.jsx)(t.td,{children:"Releases"}),(0,r.jsx)(t.td,{children:"Publish on GitHub release and crates.io release."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"8."}),(0,r.jsx)(t.td,{children:"Workshop"}),(0,r.jsx)(t.td,{children:"There will be a workshop repository for teams to learn how to setup the release pipeline step by step."})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"future-plans",children:"Future Plans"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Keep connected with the community/parity and make it better."}),"\n"]}),"\n",(0,r.jsxs)(t.h2,{id:"additional-information-heavy_plus_sign",children:["Additional Information ","\u2795"]}),"\n",(0,r.jsx)(t.p,{children:"Since every component is connected closely, I prefer to finish them all in one milestone for easy auditing and testing."}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"How did you hear about the Grants Program?"})," GitHub."]})]})}function c(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);